## 迭代器和 for-of 循环  

> padding  

怎么循环一个数组的元素呢？20年前，Javascript 里是这么写的: 

    for (var index = 0; index < myArray.length; index++) {
        console.log(myArray[index]);
    }  
    
自从 ES5 起，你可以用 forEach 方法:  
 
     myArray.forEach(function (value) {
          console.log(value);
     });
     
这样看起来短些，但有副作用: 你无法使用 ``` break``` 语句或者通过```return```从包裹的函数中返回。  
  
倘若能使用 ```for-``` 循环语法完成对数组元素操作岂不是更好。 
 
那么试试```for-in``` ?  
 
     for (var index in myArray) {    // don't actually do this
          console.log(myArray[index]);
     }  
     
这不是一个好选择:  
 
+ 赋值给 *index* 的实际上得到的是```"0", "1", "2"``` 等等， 并不是数字。你一定不想得到这样的字符串运算("2" + 1 == "21"), 这一点也不方便。  

+ 循环体不仅对数组对象本身循环， 而且会将赋值操作后的属性也进行循环，例如，数组 myArray有个枚举属性 myArray.name, 那么循环将多循环一次，而那次的索引 index == "name"。甚至是数组 prototype 继承链上的属性都会被访问到。  

+ 更令人惊讶的是， 在某些情况下，数组内的循环可能不会顺序执行。  

简单来说，for-in 主要作用于 plain old objects 的字符串 keys。对于数组，效果并不奏效。  

###强大的 for-of 循环  

还记得上周我承诺 ES6 并不会破坏原先你写的 Js 代码吧。数以百万的网站有用到 for-in 循环， 甚至是用在数组的循环上。所以去修 for-in 循环，让其适用于 arrays 是不现实的。对于 ES6，改进的唯一办法就是引入一种新的循环语法。  

tada:  

    for (var value of myArray) {
         console.log(value);
    }  
    
额，他看起来似乎并不没有很牛逼，对吧？ 